"use strict";(self.webpackChunkflutter_rust_bridge=self.webpackChunkflutter_rust_bridge||[]).push([[7503],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=o,f=m["".concat(l,".").concat(d)]||m[d]||c[d]||a;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},33820:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var r=n(87462),o=(n(67294),n(3905));const a={},i="Windows and Linux",s={unversionedId:"manual/integrate/template/setup/desktop",id:"manual/integrate/template/setup/desktop",title:"Windows and Linux",description:"Windows and Linux share the same build system (CMake), making setup for these two",source:"@site/docs/manual/integrate/05-template/01-setup/04-desktop.md",sourceDirName:"manual/integrate/05-template/01-setup",slug:"/manual/integrate/template/setup/desktop",permalink:"/flutter_rust_bridge/manual/integrate/template/setup/desktop",draft:!1,editUrl:"https://github.com/fzyzcjy/flutter_rust_bridge/tree/master/website/docs/manual/integrate/05-template/01-setup/04-desktop.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Web setup",permalink:"/flutter_rust_bridge/manual/integrate/template/setup/web"},next:{title:"Other platforms",permalink:"/flutter_rust_bridge/manual/integrate/template/setup/others"}},l={},u=[{value:"Troubleshooting: CMake on Linux",id:"troubleshooting-cmake-on-linux",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"windows-and-linux"},"Windows and Linux"),(0,o.kt)("p",null,"Windows and Linux share the same build system (CMake), making setup for these two\nplatforms the easiest even from scratch. The template uses ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/corrosion-rs/corrosion"},"Corrosion")," to expedite the process, which has to clone and initialize the builder first. If you are running builds continuously, it might be a good idea to follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/corrosion-rs/corrosion#installation"},"this guide")," to learn how to install ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/corrosion-rs/corrosion"},"Corrosion")," permanently onto your system. Once that's done, go ahead and modify ",(0,o.kt)("inlineCode",{parentName:"p"},"rust.cmake")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"windows")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"linux"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},"-# find_package(Corrosion REQUIRED)\n+find_package(Corrosion REQUIRED)\n\n-include(FetchContent)\n-\n-FetchContent_Declare(\n-    Corrosion\n-    GIT_REPOSITORY https://github.com/AndrewGaspar/corrosion.git\n-    GIT_TAG v0.4.4 # Optionally specify a version tag or branch here\n-)\n-\n-FetchContent_MakeAvailable(Corrosion)\n")),(0,o.kt)("h2",{id:"troubleshooting-cmake-on-linux"},"Troubleshooting: CMake on Linux"),(0,o.kt)("p",null,"Unless you have certain use-cases that you require from the latest versions of ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/corrosion-rs/corrosion"},"Corrosion"),", it is recommended to\nuse ",(0,o.kt)("strong",{parentName:"p"},"v0.4.x")," in your build scripts since CMake versions supplied by the system and/or Flutter snap installations\ntrail behind the master branch. This will relax the CMake requirement to v15, which should be generally available\nfrom most package maintainers and Flutter snaps."),(0,o.kt)("p",null,"A workaround is to ignore ",(0,o.kt)("inlineCode",{parentName:"p"},"rust.cmake")," and manually configure CMake to build and bundle the Rust library, as suggested by\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/fzyzcjy/flutter_rust_bridge/issues/318#issuecomment-1038751426"},"this comment"),"\nin the case of Flutter on ARM Linux."))}c.isMDXComponent=!0}}]);